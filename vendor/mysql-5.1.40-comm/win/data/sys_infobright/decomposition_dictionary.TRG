TYPE=TRIGGERS
triggers='CREATE DEFINER=`root`@`localhost` TRIGGER sys_infobright.before_delete_on_decomposition_dictionary BEFORE DELETE ON decomposition_dictionary\nFOR EACH ROW BEGIN\n\nselect count(*) from sys_infobright.columns where decomposition = OLD.ID into @count;\nIF @count <> 0 THEN\nSET @@brighthouse_trigger_error = concat (\'Delete failed: The decomposition \\\'\', OLD.ID, \'\\\' is used in at least one column.\');\nEND IF;\n\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER sys_infobright.after_insert_on_decomposition_dictionary AFTER INSERT ON decomposition_dictionary\nFOR EACH ROW BEGIN\n  set @@global.brighthouse_refresh_sys_infobright = TRUE;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER sys_infobright.after_update_on_decomposition_dictionary AFTER UPDATE ON decomposition_dictionary\nFOR EACH ROW BEGIN\n  set @@global.brighthouse_refresh_sys_infobright = TRUE;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER sys_infobright.after_delete_on_decomposition_dictionary AFTER DELETE ON decomposition_dictionary\nFOR EACH ROW BEGIN\n  set @@global.brighthouse_refresh_sys_infobright = TRUE;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER sys_infobright.before_insert_on_decomposition_dictionary BEFORE INSERT ON decomposition_dictionary\nFOR EACH ROW BEGIN\n\nselect count(*) from sys_infobright.decomposition_dictionary where ID = NEW.ID into @count;\nIF @count <> 0 THEN\nSET @@brighthouse_trigger_error = concat (\'Insert failed: The decomposition ~\\\'\', NEW.ID, \'\\\' already exists.\');\nEND IF;\n\n\nselect is_decomposition_rule_correct( NEW.RULE ) into @valid;\nIF @valid = 0 THEN\nSET @@brighthouse_trigger_error = concat (\'Insert failed: The decomposition rule \\\'\', NEW.RULE, \'\\\' is invalid.\');\nEND IF;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER sys_infobright.before_update_on_decomposition_dictionary BEFORE UPDATE ON decomposition_dictionary\nFOR EACH ROW BEGIN\nIF OLD.RULE <> NEW.RULE then\nselect is_decomposition_rule_correct( NEW.RULE ) into @valid;\nIF @valid = 0 THEN\nSET @@brighthouse_trigger_error = concat (\'Update failed: The decomposition rule \\\'\', NEW.RULE, \'\\\' is invalid.\');\nEND IF;\nEND IF;\nIF OLD.ID <> NEW.ID then\nSET @@brighthouse_trigger_error = concat (\'Update failed: The column ID is not allowed to be changed in DECOMPOSITION_DICTIONARY.\');\nEND IF;\nEND'
sql_modes=0 0 0 0 0 0
definers='root@localhost' 'root@localhost' 'root@localhost' 'root@localhost' 'root@localhost' 'root@localhost'
client_cs_names='latin1' 'latin1' 'latin1' 'latin1' 'latin1' 'latin1'
connection_cl_names='latin1_swedish_ci' 'latin1_swedish_ci' 'latin1_swedish_ci' 'latin1_swedish_ci' 'latin1_swedish_ci' 'latin1_swedish_ci'
db_cl_names='latin1_bin' 'latin1_bin' 'latin1_bin' 'latin1_bin' 'latin1_bin' 'latin1_bin'
